CSS 样式隔离指的是确保不同组件或模块的样式不会相互干扰，避免样式冲突，从而增强代码的可维护性和可扩展性。下面为你介绍不同场景下实现 CSS 样式隔离的方法：

### 1. 命名约定

- **原理**：通过制定统一的命名规则，让不同组件的类名有明显区别，以此降低样式冲突的可能性。
- **示例**：采用 BEM（Block Element Modifier）命名规范。

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <style>
      /* 块级元素 */
      .card {
        border: 1px solid #ccc;
        padding: 10px;
      }

      /* 元素 */
      .card__title {
        font-size: 18px;
        font-weight: bold;
      }

      /* 修饰符 */
      .card--highlight {
        background-color: #f0f0f0;
      }
    </style>
  </head>

  <body>
    <div class="card card--highlight">
      <h2 class="card__title">这是一个卡片</h2>
      <p class="card__content">卡片内容</p>
    </div>
  </body>
</html>
```

### 2. Shadow DOM

- **原理**：Shadow DOM 为 Web 组件提供了真正的样式隔离。它允许将一个隐藏的、独立的 DOM 附加到一个元素上，其内部的样式不会影响到外部，反之亦然。
- **示例**：

```html
<!DOCTYPE html>
<html lang="en">
  <body>
    <div id="custom-element"></div>
    <script>
      class CustomElement extends HTMLElement {
        constructor() {
          super()
          const shadow = this.attachShadow({ mode: 'open' })
          shadow.innerHTML = `
                    <style>
                        p {
                            color: red;
                        }
                    </style>
                    <p>这段文字颜色为红色，样式被隔离</p>
                `
        }
      }
      customElements.define('custom-element', CustomElement)
      const element = document.createElement('custom-element')
      document.getElementById('custom-element').appendChild(element)
    </script>
  </body>
</html>
```

### 3. CSS Modules

- **原理**：CSS Modules 会将类名编译成唯一的哈希值，从而避免全局样式冲突。在构建时，每个 CSS 文件都会生成一个局部作用域的类名映射。
- **示例**：
  假设在 React 项目中使用 CSS Modules。

```css
/* styles.module.css */
.title {
  color: blue;
}
```

```jsx
// App.js
import React from 'react'
import styles from './styles.module.css'

const App = () => {
  return <h1 className={styles.title}>这是标题</h1>
}

export default App
```

### 4. Scoped CSS

- **原理**：在一些框架（如 Vue）中支持 Scoped CSS，通过在`<style>`标签上添加`scoped`属性，让样式仅作用于当前组件。
- **示例**：

```vue
<template>
  <div class="example">
    <p>这是一个段落</p>
  </div>
</template>

<style scoped>
.example p {
  color: green;
}
</style>
```

### 5. CSS-in-JS

- **原理**：将 CSS 代码写在 JavaScript 文件中，每个组件都有自己独立的样式对象，从而实现样式隔离。
- **示例**：使用`styled-components`库。

```jsx
import React from 'react'
import styled from 'styled-components'

const StyledButton = styled.button`
  background-color: purple;
  color: white;
  border: none;
  padding: 10px 20px;
`

const App = () => {
  return <StyledButton>点击我</StyledButton>
}

export default App
```
